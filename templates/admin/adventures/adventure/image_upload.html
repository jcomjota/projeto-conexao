{% extends "admin/change_form.html" %}
{% load i18n admin_urls static admin_modify %}

{% block extrahead %}{{ block.super }}
<link rel="stylesheet" href="{% static 'admin/css/adventure_images.css' %}">
<script src="https://cdnjs.cloudflare.com/ajax/libs/Sortable/1.14.0/Sortable.min.js"></script>
<script src="{% static 'admin/js/adventure_images.js' %}"></script>
{% endblock %}

{% block content %}
<div id="content-main">
    <form {% if has_file_field %}enctype="multipart/form-data" {% endif %}action="{{ form_url }}" method="post" id="{{ opts.model_name }}_form" novalidate>
        {% csrf_token %}
        {% block form_top %}{% endblock %}
        
        <div class="adventure-upload-container">
            <h2>Imagens da Aventura</h2>
            <p class="help-text">Selecione as imagens para a galeria da aventura. Arraste para reordenar.</p>
            
            <div class="upload-area">
                <input type="file" id="adventure-images-input" multiple accept="image/*" class="file-input">
                <label for="adventure-images-input" class="upload-button">
                    <i class="fas fa-cloud-upload-alt"></i> Escolher Imagens
                </label>
            </div>
            
            <div id="image-preview-container" class="image-preview-container"></div>
            
            <div class="image-order-container">
                <h3>Organize as imagens (arraste para reordenar)</h3>
                <ul id="sortable-images" class="sortable-list"></ul>
            </div>
            
            <div class="hidden-inputs-container" id="hidden-inputs-container">
                <!-- Aqui serÃ£o inseridos os inputs ocultos com os dados das imagens -->
            </div>
        </div>
        
        <div class="submit-row">
            <input type="submit" value="{% trans 'Save' %}" class="default" name="_save">
        </div>
    </form>
</div>
{% endblock %}